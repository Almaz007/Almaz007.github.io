import{r as x,j as e}from"./index-BW0KzlOM.js";import{T as f}from"./Table-Cfa_qO03.js";import{n as h}from"./index-CVVzCCZJ.js";import{g}from"./helpers-C0jkC3_s.js";import{I as m}from"./Input-CBWfRzYh.js";import{b as y,a as v}from"./useUpdateSetpointValue-CdsqV1oB.js";import{s as w}from"./shallow-BHpKla55.js";import"./traditional-qqL8sDk3.js";import"./v4-C6aID195.js";const j=({id:s,value:a})=>{const[r,d]=h(n=>[n.nodes,n.updateNodes]),t=x.useMemo(()=>r.find(n=>n.id===s),[r]);if(!t)return e.jsx("div",{children:"узел не найден"});const o=n=>{const p={...t,data:{...t==null?void 0:t.data,name:n}},l=r.map(i=>i.id===p.id?p:i);d(l)};return e.jsx(m,{value:a,onChange:n=>o(n.target.value)})},b=({id:s,data:a})=>{const{type:r,setpointOffset:d,name:t,setpointDataType:o}=a,{handleChange:n,inputValue:p}=y(o,d);return e.jsxs(e.Fragment,{children:[e.jsx("td",{children:s},0),e.jsx("td",{children:r},1),e.jsx("td",{children:e.jsx(j,{value:t??"",id:s})},2),e.jsx("td",{children:e.jsx(m,{type:"text",value:p,onChange:n})},3)]})},F=({id:s,data:a})=>{const{type:r,setpointOffset:d,name:t,outputHandles:o}=a,{handleFourierGarmonicForOutput:n,inputsValue:p}=v(d),l=Object.values(o).reduce((i,u,c)=>(c%2===0?i.push([u]):i[i.length-1].push(u),i),[]);return e.jsxs(e.Fragment,{children:[e.jsx("td",{children:s},0),e.jsx("td",{children:r},1),e.jsx("td",{children:e.jsx(j,{value:t??"",id:s})},2),e.jsx("td",{style:{display:"flex",gap:"10px"},children:l.map((i,u)=>e.jsx(m,{style:{width:"60px"},type:"number",value:p[u],onChange:c=>n(u,c.target.value)},u))},3)]})},N={id:"",type:"",name:"",value:0};function R(s){return"setpointOffset"in s.data}const T=()=>{const s=h(t=>t.nodes,w),a=x.useMemo(()=>s.filter(o=>R(o)).map(o=>({id:o.id,data:o.data})),[s]);return{renderHead:()=>e.jsx(e.Fragment,{children:g(N).map(t=>e.jsx("th",{children:t},t))}),rows:a,renderRow:t=>t.data.type==="fourierInt"?e.jsx(F,{id:t.id,data:t.data}):e.jsx(b,{id:t.id,data:t.data})}},S=({})=>{const{renderHead:s,rows:a,renderRow:r}=T();return e.jsx("div",{children:e.jsx(f,{rowItems:a,renderHead:s,renderRow:r,getRowKey:d=>d.id,maxWidth:1e3})})},K=()=>e.jsx("div",{children:e.jsx(S,{})});export{K as default};
