import{G as d,j as e,c as r,r as v}from"./index-B7-Tk3ta.js";import{a as i}from"./useBleStore-DPeCKtNN.js";import{u as g}from"./store-CDkq-3KH.js";import{s as m}from"./shallow-3eT9xt5d.js";import{I as x}from"./Input-DAcSBmaA.js";import"./v4-C6aID195.js";import"./helpers-C0jkC3_s.js";function _(t){return d({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m7 12-2-2-2 2 2 2 2-2zm10.71-4.29L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88zM19 10l-2 2 2 2 2-2-2-2z"},child:[]}]})(t)}function p(t){return d({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m13 5.83 1.88 1.88-1.6 1.6 1.41 1.41 3.02-3.02L12 2h-1v5.03l2 2v-3.2zM5.41 4 4 5.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l4.29-4.29 2.3 2.29L20 18.59 5.41 4zM13 18.17v-3.76l1.88 1.88L13 18.17z"},child:[]}]})(t)}function L(t){return d({attr:{t:"1569683368540",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"path",attr:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6c-0.3 1.5-0.4 3-0.4 4.4 0 14.4 11.6 26 26 26h723c1.5 0 3-0.1 4.4-0.4 14.2-2.4 23.7-15.9 21.2-30zM204 390h272V182h72v208h272v104H204V390z m468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"},child:[]}]})(t)}const j="_btn_bicqi_13",a={"terminal-panel":"_terminal-panel_bicqi_1",btn:j},b=()=>{const t=()=>{const{addLog:s,device:n,boundHandleDisconnection:l}=i.getState();if(n){if(n.removeEventListener("gattserverdisconnected",l),s(`Disconnecting from "${n.name}" bluetooth device...`),!n.gatt.connected){s(`"${n.name}" bluetooth device is already disconnected`);return}n.gatt.disconnect(),s(`"${n.name}" bluetooth device disconnected`)}};return{disconnect:()=>{const{characteristics:{chartCharacteristic:s,modemCharacteristic:n},handleModemParametrsChanged:l}=i.getState(),{handleChartChanged:o}=g.getState();t(),n&&n.removeEventListener("characteristicvaluechanged",l),s&&s.removeEventListener("characteristicvaluechanged",o),i.setState({device:null,characteristics:{}})}}},f=({})=>{const[t,c]=i(n=>[n.clearLogs,n.connect],m),{disconnect:s}=b();return e.jsxs("div",{className:a["terminal-panel"],children:[e.jsx("div",{className:a.btn,children:e.jsx(L,{onClick:t,className:r(a.button,a.clear)})}),e.jsx("div",{className:a.btn,children:e.jsx(_,{onClick:()=>c(),className:r(a.button,a.connect),"data-title":"Подключение"})}),e.jsx("div",{className:a.btn,children:e.jsx(p,{onClick:()=>s(),className:r(a.button,a.disconnect),"data-title":"Отключение"})})]})},V="_logs_102wk_1",C={logs:V},z="_err_wjxol_17",H="_out_wjxol_29",u={"log-text":"_log-text_wjxol_1",err:z,in:"_in_wjxol_23",out:H},M=({log:t})=>{const{message:c,type:s}=t;return e.jsx("div",{className:r(u["log-text"],{[u[s]]:!!s}),children:c})},N=()=>{const[t]=i(c=>[c.logs],m);return e.jsx("div",{className:C.logs,children:t.map(c=>e.jsx(M,{log:c},c.id))})},h={"send-input":"_send-input_1ad3g_1","send-btn":"_send-btn_1ad3g_13"};function w(t){return d({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1 1.91L1.78 1.5L15 7.44899V8.3999L1.78 14.33L1 13.91L2.58311 8L1 1.91ZM3.6118 8.5L2.33037 13.1295L13.5 7.8999L2.33037 2.83859L3.6118 7.43874L9 7.5V8.5H3.6118Z"},child:[]}]})(t)}const y=({})=>{const[t,c]=v.useState(""),[s]=i(o=>[o.send],m),n=o=>{o.key==="Enter"&&(s(t),c(""))},l=()=>{s(t),c("")};return e.jsxs("div",{className:h["send-input"],children:[e.jsx(x,{className:h["send-input"],onKeyDown:n,value:t,onChange:o=>c(o.target.value)}),e.jsx("div",{className:h["send-btn"],onClick:l,children:e.jsx(w,{})})]})},B="_terminal_bsi4f_1",S={terminal:B},P=()=>e.jsxs("div",{className:S.terminal,children:[e.jsx(f,{}),e.jsx(N,{}),e.jsx(y,{})]});export{P as default};
