import{c as P}from"./shallow-CDFTM4LJ.js";import{c as N,v as M}from"./helpers-fab74NUc.js";function F(s){const o=new Uint8Array(4);return o[3]=s>>24&255,o[2]=s>>16&255,o[1]=s>>8&255,o[0]=s&255,o}function q(s,o,t){const c=new ArrayBuffer(12),i=new DataView(c);return i.setUint32(0,s,!0),i.setUint32(4,o,!0),i.setUint32(8,t,!0),new Uint8Array(c)}const d=s=>new Promise(o=>setTimeout(o,s)),W=P((s,o)=>({device:null,characteristics:{},logs:[],uuids:{serviceUuid1:"00000115-0000-1000-8000-00805f9b34fb",sendCharacteristicUuid:"00000116-0000-1000-8000-00805f9b34fb",chartCharacteristicUiid:"00000117-0000-1000-8000-00805f9b34fb",firmware_service_UUID:"0000ff00-0000-1000-8000-00805f9b34fb",firmware_service_data_chararcteristic_UUID:"0000ff11-0000-1000-8000-00805f9b34fb",firmware_service_controll_chararcteristic_UUID:"0000ff22-0000-1000-8000-00805f9b34fb",pwa_config_service_UUID:"00000101-0000-1000-8000-00805f9b34fb",pwa_config_service_rx_chararcteristic_UUID:"00000102-0000-1000-8000-00805f9b34fb",pwa_config_service_tx_chararcteristic_UUID:"00000103-0000-1000-8000-00805f9b34fb",oscill_service_UUID:"00000118-0000-1000-8000-00805f9b34fb",oscill_service_rx_chararcteristic_UUID:"00000119-0000-1000-8000-00805f9b34fb",oscill_service_tx_chararcteristic_UUID:"00000120-0000-1000-8000-00805f9b34fb"},modemParameters:{timestamp:0,timestampSubSeconds:0,latitude:0,longitude:0,altitude:0,is_valid:0,fix:0,gp_sats_in_use:0,gl_sats_in_use:0,bd_sats_in_use:0,gp_sats_in_view:0,gl_sats_in_view:0,bd_sats_in_view:0,ppsFlag:0},clearLogs(){s({logs:[]})},connect:async()=>{const{addLog:t,requestBluetoothDevice:c,connectDeviceAndCacheCharacteristic:i,startNotifications:e}=o();try{await c(),await i(),await e()}catch(r){t(`Error: ${r==null?void 0:r.message}`,"err")}},boundHandleDisconnection:()=>{const{device:t,addLog:c}=o();c(`"${t.name}"  bluetooth device disconnected`)},addLog:(t,c="")=>{const{logs:i}=o(),e={id:M(),message:t,type:c};s({logs:[...i,e]})},requestBluetoothDevice:async()=>{const{addLog:t,boundHandleDisconnection:c,uuids:i}=o();t("Requesting bluetooth device...");const e=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:[i.serviceUuid1,i.pwa_config_service_UUID,i.firmware_service_UUID,i.oscill_service_UUID]});t(`${e.name} bluetooth device selected`),e.addEventListener("gattserverdisconnected",c),s({device:e})},connectDeviceAndCacheCharacteristic:async()=>{const{uuids:t,addLog:c,device:i}=o();c("Connecting to GATT server...");const e=await i.gatt.connect();c("GATT server connected, getting services...");const r=await e.getPrimaryService(t.serviceUuid1),U=await e.getPrimaryService(t.firmware_service_UUID),f=await e.getPrimaryService(t.pwa_config_service_UUID),h=await e.getPrimaryService(t.oscill_service_UUID);c("Services founded, getting characteristics...");const C=await f.getCharacteristic(t.pwa_config_service_rx_chararcteristic_UUID),u=await f.getCharacteristic(t.pwa_config_service_tx_chararcteristic_UUID),l=await U.getCharacteristic(t.firmware_service_data_chararcteristic_UUID),n=await U.getCharacteristic(t.firmware_service_controll_chararcteristic_UUID),m=await r.getCharacteristic(t.chartCharacteristicUiid),E=await r.getCharacteristic(t.sendCharacteristicUuid),A=await h.getCharacteristic(t.oscill_service_tx_chararcteristic_UUID);c("Characteristics found"),s({characteristics:{pwa_config_service_rx_chararcteristic:C,pwa_config_service_tx_chararcteristic:u,oscill_service_tx_chararcteristic:A,firmware_service_data_chararcteristic:l,firmware_service_controll_chararcteristic:n,sendCharacteristic:E,chartCharacteristic:m}})},handleChartCharacteristicChanged:t=>{const{addLog:c}=o(),i=new TextDecoder().decode(t.target.value);console.log(i),c(i,"in")},handleModemParametrsChanged:t=>{const{addLog:c}=o(),i=new Uint8Array(t.target.value.buffer),e=new DataView(i.buffer,i.byteOffset,i.byteLength);let r=0;const U=e.getUint32(r,!0);r+=4;let f=e.getUint32(r,!0);f=f/169356432,r+=4;const C=e.getInt32(r,!0)/65536;r+=4;const l=e.getInt32(r,!0)/65536;r+=4;const m=e.getInt32(r,!0)/65536;r+=4;const E=e.getUint8(r);r+=1;const A=e.getUint8(r);r+=1;const O=e.getUint8(r);r+=1;const D=e.getUint8(r);r+=1;const R=e.getUint8(r);r+=1;const I=e.getUint8(r);r+=1;const L=e.getUint8(r);r+=1;const p=e.getUint8(r);r+=1;const T=e.getUint8(r);r+=1,s({modemParameters:{timestamp:U,timestampSubSeconds:f,latitude:C,longitude:l,altitude:m,is_valid:E,fix:A,gp_sats_in_use:O,gl_sats_in_use:D,bd_sats_in_use:R,gp_sats_in_view:I,gl_sats_in_view:L,bd_sats_in_view:p,ppsFlag:T}}),c("modem parametrs received","in")},handeFirmwareResponse:t=>{const c=new Uint8Array(t.target.value.buffer);console.log("Notification:",c)},startNotifications:async()=>{const{addLog:t,characteristics:{pwa_config_service_tx_chararcteristic:c,chartCharacteristic:i},handleChartCharacteristicChanged:e}=o();t("Starting notifications..."),await c.startNotifications(),i.addEventListener("characteristicvaluechanged",e),t("Notifications started")},send:async t=>{const{characteristics:{sendCharacteristic:c},device:i,addLog:e}=o();try{if(t=String(t||""),!t)throw new Error("–Ω–µ–ª—å–∑—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ");if(!i)throw new Error("–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É");if(!c)throw new Error("–≥–∏–±–∫–∞—è –ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–∏—Å –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω");await c.writeValue(new TextEncoder().encode(`${t}\r`)),e(t,"out")}catch(r){e(`Error: ${r.message}`,"err")}},sendFirmware:async t=>{const{characteristics:{firmware_service_controll_chararcteristic:c,firmware_service_data_chararcteristic:i},addLog:e}=o();console.log("firmware send start");const r=128,U=12,f=t.byteLength+U,h=Math.ceil(f/r),C=new Uint8Array(t),u={0:"NO_ERROR",1:"MEMORY_CAPA_EXCEED",2:"STATE_ERROR",3:"HASH_ERROR",4:"WRONG_LENGTH",5:"TIMEOUT",6:"UNKNOWN"};try{let l=!1,n=6;if(await c.startNotifications(),c.addEventListener("characteristicvaluechanged",a=>{const _=a.target.value,g=new Uint8Array(_.buffer),$=g[0];if(console.log("–æ—Ç–≤–µ—Ç –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",g),$===5){n=g[1];const b=u[n]||"UNKNOWN";console.log(`‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω–∞ –æ—à–∏–±–∫–∞ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: ${n} (${b})`),e(`‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω–∞ –æ—à–∏–±–∫–∞ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: ${n} (${b})`,"err"),n!==5&&(l=!0)}}),console.log("üîÑ [1/6] –í–∫–ª—é—á–µ–Ω–∏–µ BLE —Ä–µ–∂–∏–º–∞..."),e("üîÑ [1/6] –í–∫–ª—é—á–µ–Ω–∏–µ BLE —Ä–µ–∂–∏–º–∞...","in"),await c.writeValue(new Uint8Array([0,0])),l)throw new Error(`–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É ${u[n]}`);await d(500),console.log("üîÑ [2/6] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—à–∏–≤–∫–∏..."),e("üîÑ [2/6] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—à–∏–≤–∫–∏...","in");const m=new Uint8Array(5);if(m[0]=1,m.set(F(f),1),await c.writeValue(m),l)throw new Error(`–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É ${u[n]}`);await d(500);const E=N(C),A=f-U,O=3405645573,D=new Uint8Array([...q(O,A,E),...C]);if(console.log("üîÑ [3/6] –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö..."),e("üîÑ [3/6] –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö...","in"),await c.writeValue(new Uint8Array([2])),l)throw new Error(`–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É ${u[n]}`);await d(500),console.log("üîÑ [4/6] –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—à–∏–≤–∫–∏..."),e("üîÑ [4/6] –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—à–∏–≤–∫–∏...","in");let R=-1;const I=20;for(let a=0;a<h;a++){if(l)throw new Error(`OTA –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –∫–æ–¥ –æ—à–∏–±–∫–∏ ${n}`);await i.writeValue(D.slice(r*a,r*a+r));const w=Math.round(a/h*100);if(w>=R+5||a===h-1){R=w;const _=Math.round(w/100*I),g=I-_,$="‚ñà".repeat(_)+"‚ñë".repeat(g);console.clear(),console.log("üîÑ [4/6] –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—à–∏–≤–∫–∏..."),console.log(`üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: [${$}] ${w}% (${a+1}/${h} —á–∞–Ω–∫–æ–≤)`),(w%20===0||a===h-1)&&e(`üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: ${w}% (${a+1}/${h} —á–∞–Ω–∫–æ–≤)`,"in")}await d(50)}console.log("‚úÖ [4/6] –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"),e("‚úÖ [4/6] –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∞!","in"),await d(3e3),console.log("üîÑ [5/6] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è CRC32..."),e("üîÑ [5/6] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è CRC32...","in"),console.log("‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏..."),e("‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏...","in"),await d(1e3);const L=N(D),p=new Uint8Array(5);p[0]=3;const T=new ArrayBuffer(4);new DataView(T).setUint32(0,L,!0),p.set(new Uint8Array(T),1),console.log("üîç CRC32:",L.toString(16),"bytes:",Array.from(p.slice(1)).map(a=>a.toString(16).padStart(2,"0")).join(" ")),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è CRC32..."),e("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è CRC32...","in");const V=new Promise((a,w)=>{const _=g=>{const $=g.target,b=new Uint8Array($.value.buffer),B=b[0],S=b[1];console.log("CRC32: –ø–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç",b,"opcode:",B,"errCode:",S),B===3&&S===0?(c.removeEventListener("characteristicvaluechanged",_),console.log("‚úÖ [5/6] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è CRC32 —É—Å–ø–µ—à–Ω–∞!"),e("‚úÖ [5/6] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è CRC32 —É—Å–ø–µ—à–Ω–∞!","in"),a(null)):B===5&&(c.removeEventListener("characteristicvaluechanged",_),w(new Error(`–û—à–∏–±–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ CRC32: ${u[S]||S}`)))};c.addEventListener("characteristicvaluechanged",_),setTimeout(()=>{c.removeEventListener("characteristicvaluechanged",_),w(new Error("Timeout –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è CRC32"))},5e3)});if(await c.writeValue(p),l)throw new Error(`–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É ${u[n]}`);if(await V,console.log("‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ..."),e("‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ...","in"),await d(500),console.log("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),e("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞...","in"),await c.writeValue(new Uint8Array([4])),l)throw new Error(`–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É ${n}`);console.log("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"),e("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!","in"),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)..."),e("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)...","in"),await d(15e3),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É..."),e("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É...","in");let v=0;const y=10;let x=!1;for(;v<y&&!x;)try{console.clear(),console.log("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),console.log("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)..."),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É..."),console.log(`üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ${v+1}/${y}...`),(v===0||v%3===0)&&e(`üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ${v+1}/${y}...`,"in");const{device:a,connectDeviceAndCacheCharacteristic:w,startNotifications:_}=o();a&&a.gatt&&a.gatt.connected&&a.gatt.disconnect(),await d(2e3),await w(),await _(),console.log("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),e("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞...","in"),await d(2e3);try{const{characteristics:{sendCharacteristic:g}}=o();g&&(await g.writeValue(new TextEncoder().encode(`ble_help
\r`)),console.log("‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"),e("‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞","in"))}catch(g){console.log("‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:",g.message),e(`‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: ${g.message}`,"err")}x=!0,console.clear(),console.log("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),console.log("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)..."),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É..."),console.log(`‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ${v+1}/${y} - –£–°–ü–ï–®–ù–û!`),console.log("üéâ –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!"),console.log("üöÄ OTA –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ! –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!"),e("üéâ –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!","in")}catch(a){v++,console.clear(),console.log("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),console.log("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)..."),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É..."),console.log(`‚ùå –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ${v}/${y} - –û–®–ò–ë–ö–ê: ${a.message}`),v<y&&(console.log("‚è≥ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã..."),e(`‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${a.message}`,"err"),e("‚è≥ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã...","in"),await d(3e3))}if(!x)throw console.clear(),console.log("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),console.log("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)..."),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É..."),console.log("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏"),new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏");console.clear(),console.log("üîÑ [6/6] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..."),console.log("‚úÖ [6/6] –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!"),console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (15 —Å–µ–∫—É–Ω–¥)..."),console.log("üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É..."),console.log("‚úÖ –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!"),console.log("üéâ –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!"),console.log("üöÄ OTA –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ! –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!"),e("üöÄ OTA –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ! –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!","in")}catch(l){e(`–û—à–∏–±–∫–∞ OTA: ${l.message}`,"err")}},sendConfig:async t=>{const{characteristics:{pwa_config_service_rx_chararcteristic:c},device:i,addLog:e}=o();try{if(!t)throw new Error("–Ω–µ–ª—å–∑—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ");if(!i||!c)throw new Error("–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É");await c.writeValue(new TextEncoder().encode(t))}catch(r){e(`Error: ${r.message}`,"err")}}}));P((s,o)=>({offsetsByTypes:{bool:[],int:[],float:[],analog:[]},offsetsOsc:[],setOscOffsets(t){s({offsetsOsc:t})},setOffsets(t,c){s({offsetsByTypes:{...o().offsetsByTypes,[c]:[...t]}})}}));export{W as u};
