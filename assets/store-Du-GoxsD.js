import{U as m}from"./index-CrREYRkc.js";const F=m(n=>({oscillographicOffsetsFull:{},oscillographicOffsets:{},tempOscillographicByMac:{},counter:0,initOffsetForMac:(e,s,o,l,t,r)=>{n(c=>{const p=c.tempOscillographicByMac[e]??{},a=c.oscillographicOffsetsFull[e]??{},i={name:o,send:!0,timePoints:[],values:[],lengthMemory:l,dataType:t,typeView:r};return{tempOscillographicByMac:{...c.tempOscillographicByMac,[e]:{...p,[s]:i}},oscillographicOffsetsFull:{...c.oscillographicOffsetsFull,[e]:{...a,[s]:i}}}})},initOscillographicOffsets:(e,s,o,l,t)=>{n(r=>({oscillographicOffsets:{...r.oscillographicOffsets,[e]:{name:s,lengthMemory:o,dataType:l,typeView:t,timePoints:[],values:[],send:!0}}}))},appendMacPacket:(e,s,o)=>{n(l=>{const t={...l.tempOscillographicByMac},r={...t[e]??{}};if(Object.entries(s).forEach(([c,p])=>{const a=Number(c),i=r[a];if(i){let u=[...i.timePoints,...p.timePoints],O=[...i.values,...p.values];const g=u.map((f,h)=>({time:f,value:O[h]}));g.sort((f,h)=>f.time-h.time),u=g.map(f=>f.time),O=g.map(f=>f.value),r[a]={...i,timePoints:u,values:O}}else r[a]={name:`offset_${a}`,send:!0,timePoints:[...p.timePoints],values:[...p.values],lengthMemory:0,dataType:void 0,typeView:"block"}}),t[e]=r,o){const c={...l.oscillographicOffsetsFull??{}};c[e]={...c[e]??{}},Object.entries(r).forEach(([a,i])=>{const u=Number(a);c[e][u]={...c[e][u],timePoints:[...i.timePoints],values:[...i.values],name:i.name,send:i.send,lengthMemory:i.lengthMemory,dataType:i.dataType,typeView:i.typeView}});const p={...t};return delete p[e],{tempOscillographicByMac:p,oscillographicOffsetsFull:c}}return{tempOscillographicByMac:t}})},clearOscillographicOffsets:()=>{n({oscillographicOffsetsFull:{},tempOscillographicByMac:{}})},clearTempOscillographic:()=>{n({tempOscillographicByMac:{}})},clearMac:e=>{n(s=>{const o={...s.oscillographicOffsetsFull??{}};return delete o[e],{oscillographicOffsetsFull:o}})},toggleSendForMacOffset:(e,s)=>{n(o=>{const l={...o.oscillographicOffsetsFull??{}};return!l[e]||!l[e][s]?{}:(l[e]={...l[e],[s]:{...l[e][s],send:!l[e][s].send}},{oscillographicOffsetsFull:l})})},changeViewTypeForMacOffset:(e,s)=>{n(o=>{const l={...o.oscillographicOffsetsFull??{}};if(!l[e]||!l[e][s])return{};const t=l[e][s],r=t.typeView==="block"?"point":t.typeView==="point"?"block":t.typeView;return l[e]={...l[e],[s]:{...t,typeView:r}},{oscillographicOffsetsFull:l}})}}));export{F as u};
